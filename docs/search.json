[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About Me",
    "section": "",
    "text": "Yiqin Zhou is a graduate student in the Data Science and Analytics program at Georgetown University. She received her B.S. in Accounting from the Ocean University of China. During her undergraduate studies, she gained professional experience through internships in finance and auditing at companies such as Converse and BDO Global.\nOriginally from China, Yiqin is eager to deepen her expertise in Data Science, with a particular interest in Time Series Analysis.\n\n\n\n\nM.S. Data Science & Analytics, Georgetown University (2024‚Äì2026, expected)\n\nB.A. Accounting, Ocean University of China\n\n\n\n\n\nüìä Data Science & Machine Learning\n\nüíº Finance, Risk & Product Analytics\n\nüåç Traveling & Exploring Cultures\n\nüéµ K-pop (ENHYPEN, ILLIT)\n\n\n\n\n\nEmail: yz1395@georgetown.edu\n\nGitHub: Jaycallyz\n\nLinkedIn: My LinkedIn",
    "crumbs": [
      "About Me"
    ]
  },
  {
    "objectID": "about.html#about-me",
    "href": "about.html#about-me",
    "title": "About Me",
    "section": "",
    "text": "Yiqin Zhou is a graduate student in the Data Science and Analytics program at Georgetown University. She received her B.S. in Accounting from the Ocean University of China. During her undergraduate studies, she gained professional experience through internships in finance and auditing at companies such as Converse and BDO Global.\nOriginally from China, Yiqin is eager to deepen her expertise in Data Science, with a particular interest in Time Series Analysis.",
    "crumbs": [
      "About Me"
    ]
  },
  {
    "objectID": "about.html#education",
    "href": "about.html#education",
    "title": "About Me",
    "section": "",
    "text": "M.S. Data Science & Analytics, Georgetown University (2024‚Äì2026, expected)\n\nB.A. Accounting, Ocean University of China",
    "crumbs": [
      "About Me"
    ]
  },
  {
    "objectID": "about.html#interest",
    "href": "about.html#interest",
    "title": "About Me",
    "section": "",
    "text": "üìä Data Science & Machine Learning\n\nüíº Finance, Risk & Product Analytics\n\nüåç Traveling & Exploring Cultures\n\nüéµ K-pop (ENHYPEN, ILLIT)",
    "crumbs": [
      "About Me"
    ]
  },
  {
    "objectID": "about.html#contact",
    "href": "about.html#contact",
    "title": "About Me",
    "section": "",
    "text": "Email: yz1395@georgetown.edu\n\nGitHub: Jaycallyz\n\nLinkedIn: My LinkedIn",
    "crumbs": [
      "About Me"
    ]
  },
  {
    "objectID": "home.html",
    "href": "home.html",
    "title": "DSAN5600: Time Series Analysis",
    "section": "",
    "text": "A time series is any sequence of measurements taken at regular, equally spaced intervals‚Äîseconds, minutes, hours, days, months, quarters, or years. Common examples include weather (daily temperature or rainfall), financial markets (daily stock prices or returns), industry indicators (monthly production or sales), electricity demand, traffic counts, and hospital admissions. In time-series analysis we study how these values evolve: their level, trend, seasonal or calendar patterns (e.g., weekdays vs.¬†weekends, holiday effects), cycles, and anomalies. Typical goals are to describe behavior clearly, forecast future values, and quantify the impact of events or policies.\nBecause observations are ordered in time, nearby points tend to be correlated (autocorrelation). This violates the independent-and-identically-distributed assumption behind many standard statistical methods, so na√Øve cross-sectional tools often mislead. Time-series work must explicitly handle dependence, trend, and seasonality‚Äîfor example by differencing, seasonal adjustment, and models that use lagged values and errors (e.g., ARIMA/SARIMA, ARIMAX/SARIMAX with external drivers, VAR for multiple series, state-space/ETS, or GARCH when volatility changes over time). Analysts also watch for structural breaks (e.g., policy shifts, COVID), outliers, and missing periods, and they evaluate models with time-aware validation (rolling or blocked splits) rather than random shuffles.",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "home.html#what-is-a-time-series",
    "href": "home.html#what-is-a-time-series",
    "title": "DSAN5600: Time Series Analysis",
    "section": "",
    "text": "A time series is any sequence of measurements taken at regular, equally spaced intervals‚Äîseconds, minutes, hours, days, months, quarters, or years. Common examples include weather (daily temperature or rainfall), financial markets (daily stock prices or returns), industry indicators (monthly production or sales), electricity demand, traffic counts, and hospital admissions. In time-series analysis we study how these values evolve: their level, trend, seasonal or calendar patterns (e.g., weekdays vs.¬†weekends, holiday effects), cycles, and anomalies. Typical goals are to describe behavior clearly, forecast future values, and quantify the impact of events or policies.\nBecause observations are ordered in time, nearby points tend to be correlated (autocorrelation). This violates the independent-and-identically-distributed assumption behind many standard statistical methods, so na√Øve cross-sectional tools often mislead. Time-series work must explicitly handle dependence, trend, and seasonality‚Äîfor example by differencing, seasonal adjustment, and models that use lagged values and errors (e.g., ARIMA/SARIMA, ARIMAX/SARIMAX with external drivers, VAR for multiple series, state-space/ETS, or GARCH when volatility changes over time). Analysts also watch for structural breaks (e.g., policy shifts, COVID), outliers, and missing periods, and they evaluate models with time-aware validation (rolling or blocked splits) rather than random shuffles.",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "introduction.html",
    "href": "introduction.html",
    "title": "Introduction",
    "section": "",
    "text": "The Port of Los Angeles is the largest container port in the United States and a key gateway for U.S.‚ÄìChina trade across the Pacific. As a hub in the global supply chain, its monthly container throughput (measured in TEUs) reflects both U.S. trade activity and broader forces shaping global commerce. Changes in throughput affect shipping companies, retailers, manufacturers, and consumers, making it an important indicator of economic resilience.\nThis project analyzes the monthly dynamics of Los Angeles port throughput from four perspectives. The first is the structure of trade flows, including loaded imports, loaded exports, and empty containers. The second examines external cost drivers such as oil prices, the U.S. dollar index, and the RMB/USD exchange rate. The third focuses on shocks to the supply chain, including COVID-19, tariff actions, and congestion events. The fourth looks at financial markets and domestic demand through indicators such as the S&P 500, the Dow Jones Transportation Average, and U.S. retail sales.\nBy combining these perspectives, the study explores seasonal patterns, structural breaks, and external influences on U.S. maritime trade. The analysis of the Port of Los Angeles highlights both the vulnerabilities and resilience of U.S.‚ÄìChina trade and its role in the global supply chain.",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "data_source.html",
    "href": "data_source.html",
    "title": "Data Sources",
    "section": "",
    "text": "Data Source: Port of Los Angeles ‚Äì Statistics\n 2024 Port of LA Monthly TEUs\nDescription:\nThis dataset contains monthly container throughput (TEU) at the Port of Los Angeles from January 1995 to December 2024.\nThe data includes detailed breakdowns:\n\nLoaded Imports\nEmpty Imports\nTotal Imports\nLoaded Exports\nEmpty Exports\nTotal Exports\nTotal TEUs",
    "crumbs": [
      "Data Sources"
    ]
  },
  {
    "objectID": "data_source.html#wti-oil-price-wtisplc",
    "href": "data_source.html#wti-oil-price-wtisplc",
    "title": "Data Sources",
    "section": "2.1 WTI Oil Price (WTISPLC)",
    "text": "2.1 WTI Oil Price (WTISPLC)\nData Source: FRED ‚Äì Spot Crude Oil Price: West Texas Intermediate (WTI)\n\nWTI Crude Oil Price (Monthly), Source: FRED\nDescription:\nThis dataset contains the monthly spot price of West Texas Intermediate (WTI) crude oil, expressed in U.S. dollars per barrel.\nThe series covers January 1946 to the present (latest data available: 2025) and is maintained by the Federal Reserve Bank of St.¬†Louis (FRED).\nAs a key indicator of energy costs, WTI oil prices strongly influence global shipping and logistics expenses.\nIn this project, the WTI series will be used as an external variable to study how fluctuations in fuel costs impact the Port of Los Angeles container throughput (TEUs).",
    "crumbs": [
      "Data Sources"
    ]
  },
  {
    "objectID": "data_source.html#brent-crude-oil-price-mcoilbrenteu",
    "href": "data_source.html#brent-crude-oil-price-mcoilbrenteu",
    "title": "Data Sources",
    "section": "2.2 Brent Crude Oil Price (MCOILBRENTEU)",
    "text": "2.2 Brent Crude Oil Price (MCOILBRENTEU)\nData Source: FRED ‚Äì Crude Oil Prices: Brent ‚Äì Europe (MCOILBRENTEU)\n\nBrent Crude Oil Price (Monthly), Source: FRED\nDescription:\nThis dataset contains the monthly spot price of Brent crude oil, expressed in U.S. dollars per barrel.\nThe series covers May 1987 to the present (latest data available: 2025) and is maintained by the Federal Reserve Bank of St.¬†Louis (FRED).\nBrent crude serves as the global benchmark for oil prices, complementing WTI as the U.S. benchmark.\nIn this project, the Brent series will be used to compare with WTI and analyze how global energy price movements influence container throughput at the Port of Los Angeles.",
    "crumbs": [
      "Data Sources"
    ]
  },
  {
    "objectID": "data_source.html#u.s.-dollar-index-dtwexbgs",
    "href": "data_source.html#u.s.-dollar-index-dtwexbgs",
    "title": "Data Sources",
    "section": "2.3 U.S. Dollar Index (DTWEXBGS)",
    "text": "2.3 U.S. Dollar Index (DTWEXBGS)\nData Source: FRED ‚Äì Nominal Broad U.S. Dollar Index (DTWEXBGS)\n\nU.S. Dollar Index (Monthly), Source: FRED\nDescription:\nThis dataset contains the Nominal Broad U.S. Dollar Index, a trade-weighted measure of the value of the U.S. dollar relative to a broad set of foreign currencies.\nThe series covers January 2006 to the present (latest data available: 2025) and is maintained by the Federal Reserve Bank of St.¬†Louis (FRED).\nThe U.S. Dollar Index is a critical financial indicator because it reflects currency strength and influences U.S. trade competitiveness.\nIn this project, the index will be used as an external driver to study how exchange rate fluctuations affect the Port of Los Angeles container throughput (TEUs), especially in terms of imports and exports.",
    "crumbs": [
      "Data Sources"
    ]
  },
  {
    "objectID": "data_source.html#global-supply-chain-pressure-index-gscpi",
    "href": "data_source.html#global-supply-chain-pressure-index-gscpi",
    "title": "Data Sources",
    "section": "3.1 Global Supply Chain Pressure Index (GSCPI)",
    "text": "3.1 Global Supply Chain Pressure Index (GSCPI)\nData Source: New York Fed ‚Äì Global Supply Chain Pressure Index (GSCPI)\nDownload Link: GSCPI Monthly Data (Excel)\n\nGlobal Supply Chain Pressure Index (Monthly), Source: NY Fed\nDescription:\nThe GSCPI is a composite monthly index measuring global supply chain pressure, incorporating factors like sea and air freight costs, delivery times, inventory backlogs, and manufacturing PMI components. It covers January 1997 to present, with recent months updated regularly. A higher index value indicates greater stress in global supply chains.\nIn this project, the GSCPI will be used as an external variable to analyze whether increased supply chain disruptions correspond with changes in container throughput at the Port of Los Angeles.",
    "crumbs": [
      "Data Sources"
    ]
  },
  {
    "objectID": "data_source.html#covid-19-stringency-index-u.s.-china",
    "href": "data_source.html#covid-19-stringency-index-u.s.-china",
    "title": "Data Sources",
    "section": "3.2 COVID-19 Stringency Index (U.S. & China)",
    "text": "3.2 COVID-19 Stringency Index (U.S. & China)\nData Source: Oxford COVID-19 Government Response Tracker (OxCGRT)\n\nMonthly average Stringency Index for the United States and China, Source: OxCGRT\nDescription:\nThis dataset provides the COVID-19 Government Response Stringency Index (0‚Äì100), compiled by the University of Oxford. The index measures the strictness of government containment policies, including school closures, travel restrictions, stay-at-home requirements, and public information campaigns.\n- United States (USA): Represents demand-side disruptions, reflecting domestic policy restrictions that affected U.S. imports and consumption.\n- China (CHN): Represents supply-side disruptions, reflecting export-side constraints caused by factory shutdowns, port closures, and mobility restrictions.\nThe data are available daily from January 2020 to the present. For this project, they are aggregated to monthly averages to align with the Port of Los Angeles container throughput (TEUs).",
    "crumbs": [
      "Data Sources"
    ]
  },
  {
    "objectID": "data_source.html#tariff-weighted-index-advanced-tariff-shock-indicator",
    "href": "data_source.html#tariff-weighted-index-advanced-tariff-shock-indicator",
    "title": "Data Sources",
    "section": "3.3 Tariff-Weighted Index (Advanced Tariff Shock Indicator)",
    "text": "3.3 Tariff-Weighted Index (Advanced Tariff Shock Indicator)\nData Source: Section 301 Tariff Lists - USTR ‚Äì Section 301 Tariff Lists (List 1‚Äì4 dollar coverage) :contentReferenceoaicite:4\n\nTariff Rates: List 1 & List 2 = 25%; List 3 ‚âà 15% (10% ‚Üí 25% average); List 4 ‚âà 15% :contentReferenceoaicite:5\n\n\nCalculation:\n\n\n\nList\nCoverage (USD billions)\nTariff Rate (%)\nWeighted Value\n\n\n\n\n1\n34\n25\n8.5\n\n\n2\n16\n25\n4.0\n\n\n3\n200\n15\n30.0\n\n\n4\n300\n15\n45.0\n\n\n\nCumulative index over time: - 2018-07 ‚Üí 8.5\n- 2018-08 ‚Üí 12.5\n- 2018-09 ‚Üí 42.5\n- 2019-09 ‚Üí 87.5\nDescription:\nThe Tariff-Weighted Index reflects both the magnitude (dollar value) and intensity (tariff rate) of U.S. Section 301 actions against Chinese imports. This continuous measure provides a nuanced view of policy-induced trade shocks over time, rather than a simple 0/1 indicator.",
    "crumbs": [
      "Data Sources"
    ]
  },
  {
    "objectID": "data_source.html#sp-500-index-sp500",
    "href": "data_source.html#sp-500-index-sp500",
    "title": "Data Sources",
    "section": "4.1 S&P 500 Index (SP500)",
    "text": "4.1 S&P 500 Index (SP500)\nData Source: FRED ‚Äì S&P 500\n\nDaily S&P 500 Index (aggregated to monthly for analysis). Source: FRED\nDescription:\nThis dataset provides the S&P 500 Index, a broad gauge of U.S. equity market performance and risk sentiment.\nDaily data will be aggregated to monthly to align with port TEU frequency.",
    "crumbs": [
      "Data Sources"
    ]
  },
  {
    "objectID": "data_source.html#dow-jones-transportation-average-djt",
    "href": "data_source.html#dow-jones-transportation-average-djt",
    "title": "Data Sources",
    "section": "4.2 Dow Jones Transportation Average (^DJT)",
    "text": "4.2 Dow Jones Transportation Average (^DJT)\nData Source: Yahoo Finance ‚Äì ^DJT\n\nTransportation stocks index (or IYT ETF) as a logistics/transport proxy. Source: Yahoo Finance\nDescription:\nThe Dow Jones Transportation Average (or IYT ETF) tracks transportation-related companies (airlines, rails, trucking).\nIt captures investor expectations for logistics activity and freight demand.",
    "crumbs": [
      "Data Sources"
    ]
  },
  {
    "objectID": "data_source.html#u.s.-retail-food-services-sales-rsafs",
    "href": "data_source.html#u.s.-retail-food-services-sales-rsafs",
    "title": "Data Sources",
    "section": "4.3 U.S. Retail & Food Services Sales (RSAFS)",
    "text": "4.3 U.S. Retail & Food Services Sales (RSAFS)\nData Source: FRED ‚Äì Retail and Food Services Sales (RSAFS)\n\nMonthly U.S. Retail & Food Services Sales (seasonally adjusted). Source: FRED\nDescription:\nMonthly retail spending (seasonally adjusted, billions of dollars).\nIt reflects household demand and import pull-through, especially for consumer goods arriving via West Coast ports.",
    "crumbs": [
      "Data Sources"
    ]
  },
  {
    "objectID": "data_source.html#ism-manufacturing-pmi-napm",
    "href": "data_source.html#ism-manufacturing-pmi-napm",
    "title": "Data Sources",
    "section": "4.4 ISM Manufacturing PMI (NAPM)",
    "text": "4.4 ISM Manufacturing PMI (NAPM)\nData Source: FRED ‚Äì ISM Manufacturing: PMI (NAPM)\n\nMonthly ISM Manufacturing PMI (index, 50 = expansion threshold). Source: FRED\nDescription:\nThe ISM Manufacturing PMI is a diffusion index (0‚Äì100) summarizing U.S. factory activity; values &gt;50 indicate expansion.\nIt captures inventory and orders cycles that influence import volumes."
  },
  {
    "objectID": "introduction.html#seasonality-and-forecasting-of-port-throughput",
    "href": "introduction.html#seasonality-and-forecasting-of-port-throughput",
    "title": "Introduction",
    "section": "Seasonality and forecasting of port throughput",
    "text": "Seasonality and forecasting of port throughput\nExisting research highlights that port and national cargo throughput exhibits strong seasonality, making time series models with seasonal components highly relevant. Munim (2023) compares ARIMA, SARIMA, and other forecasting methods across major Asian ports and shows that incorporating seasonal effects and exogenous variables significantly improves forecast accuracy. Similarly, Morales-Ram√≠rez et al.¬†(2025) apply SARIMA to forecast national port cargo movements and confirm its robustness at the macro level. These studies justify the application of SARIMAX and VAR models in this project, where exogenous drivers and seasonal cycles are central to understanding Port of Los Angeles throughput.",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "introduction.html#energy-costs-and-shipping-market-linkages",
    "href": "introduction.html#energy-costs-and-shipping-market-linkages",
    "title": "Introduction",
    "section": "Energy costs and shipping market linkages",
    "text": "Energy costs and shipping market linkages\nThe relationship between fuel prices and maritime freight markets is well established. UNCTAD (2010) provides evidence that oil price fluctuations significantly affect container and dry bulk freight rates, underscoring fuel costs as a major determinant of shipping dynamics. More recently, Choi et al.¬†(2020) demonstrate asymmetric and nonlinear dependence between oil prices and freight rates, suggesting that cost shocks transmit unevenly across market conditions. These findings motivate the inclusion of WTI and Brent oil benchmarks as exogenous cost drivers in the time series analysis of port throughput.",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "introduction.html#supply-chain-and-policy-shocks-covid-19-tariffs-and-congestion",
    "href": "introduction.html#supply-chain-and-policy-shocks-covid-19-tariffs-and-congestion",
    "title": "Introduction",
    "section": "Supply chain and policy shocks: COVID-19, tariffs, and congestion",
    "text": "Supply chain and policy shocks: COVID-19, tariffs, and congestion\nDisruptions such as the COVID-19 pandemic have been shown to reshape both supply and demand channels in maritime trade. Notteboom, Pallis, and Rodrigue (2021) compare the pandemic with the 2008‚Äì2009 financial crisis, concluding that COVID-19 caused structural breaks in port operations while also accelerating adaptation and resilience mechanisms. The Global Supply Chain Pressure Index (Benigno et al., 2022) provides a quantitative measure of supply chain stress, widely adopted to capture pandemic-era disruptions. Meanwhile, congestion events at Los Angeles/Long Beach in 2021, where up to 79 containerships were queued offshore (Seatrade Maritime, 2021; Marine Exchange of Southern California, 2021), illustrate operational bottlenecks that can be modeled using event dummies or interrupted time series approaches. Tariff actions under Section 301 also represent critical policy shocks affecting U.S.‚ÄìChina trade. Together, these shocks justify modeling structural breaks and intervention variables in the analysis of port TEUs.",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "introduction.html#financial-demand-channels",
    "href": "introduction.html#financial-demand-channels",
    "title": "Introduction",
    "section": "Financial-demand channels",
    "text": "Financial-demand channels\nFinally, financial and demand-side indicators are frequently used as leading or coincident variables for trade flows. The S&P 500 and Dow Jones Transportation Average capture investor sentiment and expectations about logistics activity, while U.S. retail sales measure household demand for imported goods. Literature on transportation finance suggests that sector-specific indices serve as forward-looking proxies of logistics conditions. Integrating these indicators into SARIMAX or VAR models enables the study to assess whether financial signals anticipate container throughput movements at the Port of Los Angeles.\nIn summary, prior research on seasonal forecasting, energy linkages, supply chain disruptions, and financial-demand factors provides a solid foundation for this study. By combining these themes, the project addresses key gaps in understanding how macroeconomic drivers, policy shocks, and market sentiment interact to shape U.S.‚ÄìChina trade through the Port of Los Angeles.\nReferences\n\nMunim, Z. H. (2023). Forecasting container throughput of major Asian ports: A comparison of time series methods. Elsevier.\nMorales-Ram√≠rez, D., et al.¬†(2025). Forecasting national port cargo throughput movement using SARIMA. ScienceDirect (in press).\nUNCTAD (2010). Oil Prices and Maritime Freight Rates. Geneva: United Nations Conference on Trade and Development.\nChoi, K.-H., et al.¬†(2020). Asymmetric Dependence between Oil Prices and Maritime Freight Rates. Sustainability, 12(24), 10687.\nNotteboom, T., Pallis, A., & Rodrigue, J.-P. (2021). Disruptions and resilience in global container shipping and ports: The COVID-19 pandemic vs.¬†the 2008‚Äì2009 crisis. PortEconomics / PMC.\nBenigno, G., di Giovanni, J., Groen, J. J. J., & Noble, A. (2022). The GSCPI: A New Barometer of Global Supply Chain Pressures. Federal Reserve Bank of New York, Staff Report No.¬†1017.\nSeatrade Maritime (2021). Record 79 containerships queued at LA/Long Beach ports.\nMarine Exchange of Southern California (2021). Daily and archival reports on vessel queues and scheduling.",
    "crumbs": [
      "Introduction"
    ]
  },
  {
    "objectID": "eda.html",
    "href": "eda.html",
    "title": "Exploratory Data Analysis",
    "section": "",
    "text": "Code\n# read the data\nlibrary(readr)\nlibrary(dplyr)\nlibrary(zoo)\n\n\nla_teu_data &lt;- read_csv(\"data-raw/la_teu_data.csv\", show_col_types = FALSE)\n\nla_teu_data &lt;- la_teu_data %&gt;%\n  filter(grepl(\"^[A-Za-z]{3}-\\\\d{2}$\", Date))\n\n\nla_teu_data &lt;- la_teu_data %&gt;%\n  mutate(\n    ym   = as.yearmon(Date, \"%b-%y\"),\n    date = as.Date(ym)\n  )\n\n\nnum_cols &lt;- c(\"Loaded_Imports\",\"Empty_Imports\",\"Total_Imports\",\n              \"Loaded_Exports\",\"Empty_Exports\",\"Total_Exports\",\"Total_TEUs\")\nnum_cols &lt;- intersect(num_cols, names(la_teu_data))\n\nla_teu_data &lt;- la_teu_data %&gt;%\n  mutate(across(all_of(num_cols), ~ readr::parse_number(as.character(.))))\n\nla_teu_data &lt;- la_teu_data %&gt;%\n  arrange(date) %&gt;%\n  distinct(date, .keep_all = TRUE) %&gt;%\n  filter(!is.na(Total_TEUs))\n\n\nfull_months &lt;- tibble(date = seq(min(la_teu_data$date), max(la_teu_data$date), by = \"month\"))\nla_teu_full  &lt;- full_months %&gt;% left_join(la_teu_data, by = \"date\")\n\n# convert to the ts mode\nstart_year  &lt;- as.integer(format(min(la_teu_full$date), \"%Y\"))\nstart_month &lt;- as.integer(format(min(la_teu_full$date), \"%m\"))\nla_teu_ts &lt;- ts(la_teu_full$Total_TEUs, start = c(start_year, start_month), frequency = 12)\n\nteu_m &lt;- window(la_teu_ts, start = c(2000, 1), end = c(2024, 12))\n\nteu_q &lt;- aggregate(teu_m, nfrequency = 4, FUN = sum)   # Quarterly total TEUs\nteu_y &lt;- aggregate(teu_m, nfrequency = 1, FUN = sum)   # Yearly total TEU\n\nprint(range(la_teu_full$date))\n\n\n[1] \"1995-01-01\" \"2024-12-01\"\n\n\n\n1. Time Series Plot\n\n\nCode\nplot(teu_m,\n     main = \"Port of LA Monthly Container Throughput\",\n     xlab = \"Year\",\n     ylab = \"Total TEUs\",\n     yaxt = \"n\")  \naxis(2, at = pretty(teu_m), labels = format(pretty(teu_m), big.mark = \",\"))\n\n\n\n\n\n\n\n\n\nWhy Apply Log Transformation\nThe original monthly container throughput data for the Port of Los Angeles exhibits clear evidence of heteroscedasticity ‚Äî the variance of fluctuations increases as the overall throughput level rises. This pattern is common in economic and trade-related time series where growth in scale is accompanied by greater volatility.\nSuch behavior can create two main issuesÔºö (1) statistical models such as ARIMA assume relatively stable variance, which is violated here (2) larger fluctuations in recent years dominate the series, making model fitting less reliable.\nTo address these concerns, a log transformation is applied. This transformation compresses the scale of large values, stabilizes the variance, and highlights relative changes rather than absolute ones, thereby making the data more suitable for time series modeling.\n\n\nCode\nlibrary(tidyr)\nlibrary(ggplot2)\nwin_start &lt;- as.Date(\"2000-01-01\")\nwin_end   &lt;- as.Date(\"2024-12-01\")\n\nla_teu_win &lt;- la_teu_full %&gt;%\n  filter(date &gt;= win_start, date &lt;= win_end) %&gt;%\n  mutate(\n    TEUs = as.numeric(Total_TEUs),\n    log_TEUs = ifelse(TEUs &gt; 0, log(TEUs), NA_real_)\n  )\n\nteu_df &lt;- la_teu_win %&gt;%\n  select(Date = date, TEUs, log_TEUs)\n\nplot_df &lt;- teu_df |&gt;\n  mutate(`Original TEUs` = TEUs, `log(TEUs+1)` = log(TEUs + 1)) |&gt;\n  select(Date, `Original TEUs`, `log(TEUs+1)`) |&gt;\n  pivot_longer(-Date, names_to = \"Series\", values_to = \"Value\")\n\nggplot(plot_df, aes(Date, Value)) +\n  geom_line() +\n  facet_wrap(~ Series, ncol = 1, scales = \"free_y\") +\n  labs(title = \"Original vs Log-Transformed TEUs (2000‚Äì2024)\",\n       x = \"Year\", y = \"Value\") +\n  theme_minimal(base_size = 12)+\n  theme(legend.position = \"right\")\n\n\n\n\n\n\n\n\n\nInterpretation of the Transformed Data\nThe comparison between the original series (bottom panel) and the log-transformed series (top panel) illustrates the benefits of this adjustment.\n\nOriginal TEUs (bottom panel): The series shows a long-term upward trend from 2000 to 2024, with major disruptions around 2020 due to the COVID-19 pandemic. Volatility increases over time, and recent years display sharper swings in throughput levels.\nLog-Transformed TEUs (top panel): After transformation, the variance becomes more stable across time, with fluctuations compressed and appearing more uniform. The long-term growth trend remains evident, but extreme variations‚Äîespecially during 2020‚Äîare moderated. This stabilization enhances the reliability of subsequent statistical modeling and allows for clearer identification of underlying patterns.\n\n\n\n2. Lag plot\n\n\nCode\nlibrary(forecast)\nlibrary(ggplot2)\nlibrary(scales)\n\ngglagplot(teu_m, lags = 9, do.lines = FALSE) +\n  labs(title = \"Lag Plots (1‚Äì9) ‚Äî TEUs (2000‚Äì2024)\",\n       x = \"Lagged TEUs\", y = \"Current TEUs\") +\n  scale_y_continuous(labels = label_number(scale = 1e-6, suffix = \"M\")) +\n  scale_x_continuous(labels = label_number(scale = 1e-6, suffix = \"M\")) +\n  theme_minimal(base_size = 12) +\n  theme(\n    axis.text.x = element_text(angle = 45, hjust = 1),  \n    axis.text.y = element_text(angle = 0, hjust = 1)    \n  )\n\n\n\n\n\n\n\n\n\nThe figure above presents the lag plots (lags 1‚Äì9) of monthly container throughput at the Port of Los Angeles (2000‚Äì2024). Most of the points are clustered around the diagonal line, indicating strong autocorrelation between the current values and their lagged counterparts. This suggests that the throughput series exhibits persistence and momentum over time. As the lag order increases, the points become more dispersed and the correlation weakens, although a general pattern is still visible. Overall, these plots confirm the presence of temporal dependence in the data, providing justification for applying time series models such as ARIMA.\n\n\n3. Decomposition\n\n\nCode\nlibrary(forecast)\nlibrary(ggplot2)\n\nteu_log &lt;- log(teu_m)\n\n# decompose log(TEUs)\nautoplot(decompose(teu_log)) +\n  ggtitle(\"Decomposition of Log-Transformed Port of LA Monthly TEUs (2000‚Äì2024)\") +\n  xlab(\"Year\") +\n  ylab(\"Value\")\n\n\n\n\n\n\n\n\n\n\nTrend shows a long-term upward movement, with significant downturns around the 2008 financial crisis and the 2020 COVID-19 shock.\nSeasonal clearly reveals strong monthly seasonality patterns.\nRemainder is relatively small most of the time, but shows large negative spikes in 2020, capturing the extraordinary disruptions.\n\n\n\n4. ACF and PACF Plots\n\n\nCode\nlibrary(forecast)\nlibrary(ggplot2)\n# use log data\nteu_log &lt;- log(teu_m)\n\n# ACF\nggAcf(teu_log) +\n  ggtitle(\"ACF of Log(TEUs)\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nCode\n# PACF\nggPacf(teu_log) +\n  ggtitle(\"PACF of Log(TEUs)\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\nThe ACF decays slowly with significant values at multiple lags and clear seasonal spikes around lag 12, indicating trend and seasonality‚Äîthe series is not weakly stationary yet.\nThe PACF shows prominent spikes at low lags (‚âà1‚Äì3) that taper off, suggesting low-order AR effects; seasonal behavior is visible as well.\n\n\n\n5. Augmented Dickey-Fuller Test\n\n\nCode\nlibrary(urca)\n\ntseries::adf.test(teu_log)\n\n\n\n    Augmented Dickey-Fuller Test\n\ndata:  teu_log\nDickey-Fuller = -6.0507, Lag order = 6, p-value = 0.01\nalternative hypothesis: stationary\n\n\nBased on the ADF test, the log-transformed TEUs series rejects the unit root hypothesis at the 1% significance level, indicating that it can be considered stationary. However, the ACF and PACF plots still exhibit strong autocorrelation and clear seasonal spikes.\nThis suggests that, while the series is broadly stationary, applying first-order differencing or seasonal differencing (lag = 12) during the modeling stage may still be beneficial to improve model performance.\n\n\n6. Differencing\n\n\nCode\nlibrary(forecast)\nlibrary(ggplot2)\nlibrary(gridExtra)\n\nteu_log &lt;- log(teu_m)\nteu_diff1 &lt;- diff(teu_log, differences = 1)\n\np1 &lt;- autoplot(teu_log) + ggtitle(\"Log(TEUs)\")\np2 &lt;- autoplot(teu_diff1) + ggtitle(\"1st Difference of Log(TEUs)\")\n\ngrid.arrange(p1, p2, ncol=1)\n\n\n\n\n\n\n\n\n\nThe original log-transformed series still shows a clear upward trend, which violates the assumption of stationarity.After applying the first difference, the trend is largely removed, and the series fluctuates around zero.\nThis makes the differenced series more suitable for time series modeling, as stationarity is a key assumption.\n\n\nCode\n# 1st difference of ACF\nacf_plot &lt;- ggAcf(teu_diff1, lag.max = 36) +\n  ggtitle(\"ACF of 1st Difference of Log(TEUs)\") +\n  theme_minimal()\n\n# 1st difference of PACF\npacf_plot &lt;- ggPacf(teu_diff1, lag.max = 36) +\n  ggtitle(\"PACF of 1st Difference of Log(TEUs)\") +\n  theme_minimal()\n\ngrid.arrange(acf_plot, pacf_plot, ncol = 2)\n\n\n\n\n\n\n\n\n\nCode\ntseries::adf.test(teu_diff1)\n\n\n\n    Augmented Dickey-Fuller Test\n\ndata:  teu_diff1\nDickey-Fuller = -11.643, Lag order = 6, p-value = 0.01\nalternative hypothesis: stationary\n\n\n\n\n7. Moving Average\n\n\nCode\nlibrary(forecast)\nlibrary(ggplot2)\n\nautoplot(teu_log) +\n  autolayer(ma(teu_log, 3),  series = \"MA-3 (Quarterly)\") +   # quarter smooth\n  autolayer(ma(teu_log, 12), series = \"MA-12 (Annual)\") +     # annual smooth\n  autolayer(ma(teu_log, 24), series = \"MA-24 (2-Year)\") +     # 2 year smooth\n  labs(\n    title = \"Moving Average Smoothing ‚Äî log(TEUs)\",\n    x = \"Time\", y = \"log(TEUs)\"\n  ) +\n  theme_minimal() +\n  guides(colour = guide_legend(title = \"Series\"))\n\n\n\n\n\n\n\n\n\nOverall, while the series shows strong seasonality and shocks (e.g., the dip during 2020 due to the pandemic), the long-term upward trend remains evident.",
    "crumbs": [
      "Exploratory Data Analysis"
    ]
  },
  {
    "objectID": "data_visualization.html",
    "href": "data_visualization.html",
    "title": "Data Visualization",
    "section": "",
    "text": "1. TEUs timeline with events\n\n\nCode\n# ---- packages ----\nlibrary(tidyverse)\nlibrary(zoo)\nlibrary(scales)\n\n# read and clean\nla_teu_data &lt;- read_csv(\"data-raw/la_teu_data.csv\", show_col_types = FALSE) %&gt;%\n  mutate(\n    ym   = zoo::as.yearmon(Date, \"%b-%y\"),\n    Date = as.Date(ym),\n    Total_TEUs = readr::parse_number(Total_TEUs)\n  ) %&gt;%\n  filter(!is.na(Date), !is.na(Total_TEUs)) %&gt;%\n  arrange(Date)\n\nla_teu_data &lt;- la_teu_data %&gt;%\n  mutate(MA12 = zoo::rollmean(Total_TEUs, k = 12, align = \"right\", fill = NA))\n\n# ---- color ----\ncol_teus &lt;- \"#3BC5B5\"  # Monthly TEUs\ncol_ma   &lt;- \"#CD7B2E\"  # 12-month MA\n\n# ---- plot ----\nggplot(la_teu_data, aes(x = Date)) +\n  geom_line(aes(y = Total_TEUs, color = \"Monthly TEUs\"), linewidth = 0.6) +\n  geom_line(aes(y = MA12, color = \"12-month MA\"), linewidth = 1.2) +\n  scale_color_manual(values = c(\"Monthly TEUs\" = col_teus,\n                                \"12-month MA\" = col_ma)) +\n  scale_y_continuous(labels = label_number(scale_cut = cut_short_scale())) +\n  labs(\n    title    = \"Port of Los Angeles ‚Äî Monthly Container Throughput (TEUs)\",\n    subtitle = \"With 12-month moving average\",\n    x = \"Year\", y = \"TEUs\", color = NULL\n  ) +\n  theme_minimal(base_size = 14) +\n  theme(\n    legend.position = \"right\",  \n    legend.text = element_text(size = 12),\n    plot.title = element_text(face = \"bold\", size = 14),\n    panel.grid.minor = element_blank()\n  )\n\n\n\n\n\n\n\n\n\nThe chart shows the monthly container throughput (TEUs) at the Port of Los Angeles from 1995 to 2024, along with a 12-month moving average to highlight long-term patterns. The raw monthly series (teal) captures short-term fluctuations, while the smoothed trend (orange) emphasizes broader cycles in trade volume. The data reveal steady growth from the late 1990s through the mid-2000s, a sharp decline during the 2008 global financial crisis, and renewed expansion in the 2010s. More recently, the series reflects disruptions associated with the COVID-19 pandemic and subsequent recovery, followed by signs of stabilization. Overall, the long-term moving average indicates that despite cyclical downturns, container volumes have trended upward, underscoring the port‚Äôs critical role in global trade.\n\n\n2. Seasonality Patterns of TEUs\n\n\nCode\nlibrary(tidyverse)\nlibrary(zoo)\nlibrary(scales)\n\nla_teu_data &lt;- read_csv(\"data-raw/la_teu_data.csv\", show_col_types = FALSE) %&gt;%\n  mutate(\n    ym        = zoo::as.yearmon(Date, \"%b-%y\"),\n    Date      = as.Date(ym),\n    Total_TEUs = readr::parse_number(Total_TEUs)\n  ) %&gt;%\n  filter(!is.na(Date), !is.na(Total_TEUs)) %&gt;%\n  arrange(Date)\n\nplot_df &lt;- la_teu_data %&gt;%\n  transmute(\n    Year  = lubridate::year(Date),\n    Month = factor(lubridate::month(Date, label = TRUE, abbr = TRUE),\n                   levels = month.abb, ordered = TRUE),\n    TEUs  = Total_TEUs\n  ) %&gt;%\n  drop_na()\n\nplot_df &lt;- plot_df %&gt;%\n  group_by(Month) %&gt;%\n  mutate(TEUs_z = as.numeric(scale(TEUs))) %&gt;%\n  ungroup()\n\n# --- Cube Palette---\ncol_cube &lt;- c(\"#2ebeb1\",\"#d8bfd8\",\"#ff9af6\")\n\nggplot(plot_df, aes(x = Month, y = Year, fill = TEUs)) +\n  geom_tile(color = \"white\") +\n  scale_fill_gradientn(\n    colours = col_cube,\n    labels = label_number(scale_cut = cut_short_scale()),\n    name = \"TEUs\"\n  ) +\n  labs(\n    title = \"Seasonality Heatmap ‚Äî Port of LA Monthly TEUs\",\n    subtitle = \"Brighter pink = higher throughput; lighter purple = lower throughput\",\n    x = NULL, y = NULL\n  ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    panel.grid = element_blank(),\n    axis.text.x = element_text(size = 11),\n    axis.text.y = element_text(size = 10),\n    legend.position = \"right\"\n  )\n\n\n\n\n\n\n\n\n\nThe heatmap illustrates the seasonal patterns of container throughput (TEUs) at the Port of Los Angeles across months and years. Brighter pink areas represent higher throughput, while lighter purple tones indicate lower activity. The chart shows that container volumes generally increased over the long term, with stronger activity in recent decades compared to earlier years. Seasonal peaks are visible in the late summer and fall months, reflecting heightened shipping demand ahead of the holiday season. The sharp drop in 2020 highlights the disruption caused by the COVID-19 pandemic, followed by a quick rebound, underscoring how global events directly affect port activity.\n\n\n3. Imports, Exports, and Empties ‚Äî Drivers of Growth\n\n\nCode\n# --- packages ---\nlibrary(tidyverse)\nlibrary(zoo)\nlibrary(scales)\n\nnum_cols &lt;- c(\n  \"Total_TEUs\",\"Loaded_Imports\",\"Empty_Imports\",\"Total_Imports\",\n  \"Loaded_Exports\",\"Empty_Exports\",\"Total_Exports\"\n)\n\nla_teu_data &lt;- read_csv(\"data-raw/la_teu_data.csv\", show_col_types = FALSE) %&gt;%\n  mutate(across(any_of(num_cols),\n                ~ if (is.numeric(.x)) .x else readr::parse_number(.x))) %&gt;%\n  mutate(\n    ym   = zoo::as.yearmon(Date, \"%b-%y\"),\n    Date = as.Date(ym)\n  ) %&gt;%\n  filter(!is.na(Date), !is.na(Total_TEUs)) %&gt;%\n  arrange(Date)\n\n# --- Cube Palette ---\npal &lt;- c(\n  \"Imports\" = \"#D20E88\",     \n  \"Exports\" = \"#8E7897\",     \n  \"Empties\" = \"#D8BFD8\"      \n)\n\n# --- empties, imports, exports ---\nplot_data &lt;- la_teu_data %&gt;%\n  transmute(\n    Date,\n    Imports = Total_Imports,\n    Exports = Total_Exports,\n    Empties = Empty_Imports + Empty_Exports\n  ) %&gt;%\n  pivot_longer(-Date, names_to = \"Flow\", values_to = \"TEUs\") %&gt;%\n  drop_na(TEUs)\n\nplot_abs &lt;- ggplot(plot_data, aes(Date, TEUs, fill = Flow)) +\n  geom_area(size = 0.1, color = \"white\", alpha = 0.98) +\n  scale_fill_manual(values = pal, name = NULL) +\n  scale_y_continuous(\n    labels = label_number(scale_cut = cut_short_scale()),\n    limits = c(0, 1.5e6)  \n  ) +\n  labs(\n    title = \"Port of LA ‚Äî Imports vs Exports (with Empties)\",\n    subtitle = \"Stacked monthly TEUs show which side drives growth over time\",\n    x = NULL, y = \"TEUs\"\n  ) +\n  theme_minimal(base_size = 13) +\n  theme(\n    panel.grid.minor = element_blank(),\n    legend.position = \"right\"\n  )\n\nprint(plot_abs)\n\n\n\n\n\n\n\n\n\nThe stacked area chart illustrates the evolution of imports, exports, and empty containers at the Port of Los Angeles over time. Overall TEU volumes have grown substantially since the mid-1990s, with imports accounting for the largest share of growth. Exports, while present, remain comparatively stable and contribute less to the overall increase. Empty containers also represent a notable component, highlighting imbalances in trade flows and the logistics challenges of repositioning containers. This visualization emphasizes that the surge in port activity has been largely driven by rising imports, reflecting U.S. consumer demand and the growing role of Asia‚ÄìU.S. trade.\n\n\n4. TEUs and External Variables ‚Äî Interactive Relationships\n\n\nCode\nlibrary(plotly)\nlibrary(readr)\nlibrary(dplyr)\nlibrary(tidyverse)\nlibrary(zoo)\nlibrary(lubridate)\n\nteu &lt;- read_csv(\"data-raw/la_teu_data.csv\", show_col_types = FALSE) %&gt;%\n  mutate(\n    ym   = zoo::as.yearmon(Date, \"%b-%y\"), \n    Date = as.Date(ym)                     \n  ) %&gt;%\n  select(Date, TEUs = Total_TEUs)\n\nwti &lt;- read_csv(\"data-raw/WTI.csv\", show_col_types = FALSE) %&gt;%\n  rename(Date = observation_date, WTI = WTISPLC)\n\nbrent &lt;- read_csv(\"data-raw/brent.csv\", show_col_types = FALSE) %&gt;%\n  rename(Date = observation_date, Brent = MCOILBRENTEU)\n\nusd &lt;- read_csv(\"data-raw/usd.csv\", show_col_types = FALSE) %&gt;%\n  rename(Date = observation_date, USD = DTWEXBGS)\n\nrsa &lt;- read_csv(\"data-raw/RSAFS.csv\", show_col_types = FALSE) %&gt;%\n  rename(Date = observation_date, RSAFS = RSAFS)\n\nsp500 &lt;- read_csv(\"data-raw/SP500.csv\", show_col_types = FALSE) %&gt;%\n  rename(Date = observation_date, SP500 = SP500)\n\nrmb &lt;- read_csv(\"data-raw/rmb.csv\", show_col_types = FALSE) %&gt;%\n  rename(Date = observation_date, RMB = DEXCHUS)\n\n\ndf &lt;- teu %&gt;%\n  left_join(wti,   by = \"Date\") %&gt;%\n  left_join(brent, by = \"Date\") %&gt;%\n  left_join(usd,   by = \"Date\") %&gt;%\n  left_join(rsa,   by = \"Date\") %&gt;%\n  left_join(sp500, by = \"Date\") %&gt;%\n  left_join(rmb,   by = \"Date\")\n\n# handle na\ndf &lt;- df %&gt;%\n  mutate(\n    WTI   = zoo::na.locf(WTI,   na.rm = FALSE),\n    Brent = zoo::na.locf(Brent, na.rm = FALSE),\n    USD   = zoo::na.locf(USD,   na.rm = FALSE),\n    RSAFS = zoo::na.locf(RSAFS, na.rm = FALSE),\n    SP500 = zoo::na.locf(SP500, na.rm = FALSE),\n    RMB   = zoo::na.locf(RMB,   na.rm = FALSE)\n  ) %&gt;%\n  filter(Date &gt;= as.Date(\"2000-01-01\"), Date &lt;= as.Date(\"2024-01-01\"))\n\n\np &lt;- plot_ly(df, x = ~Date) %&gt;%\n  add_lines(y = ~TEUs, name = \"TEUs\", yaxis = \"y1\",\n            line = list(color = '#3b80c5', width = 2)) %&gt;%\n  add_lines(y = ~WTI,  name = \"WTI\",  yaxis = \"y2\",\n            line = list(color = '#a2acbd', width = 1.5)) %&gt;%\n  layout(\n    title  = \"Port of LA TEUs vs External Drivers\",\n    xaxis  = list(\n      title = \"Date\",\n      automargin = TRUE,\n      rangeslider = list(visible = FALSE),  \n      fixedrange  = FALSE\n    ),\n    yaxis  = list(\n      title = \"TEUs\",\n      rangemode = \"tozero\",\n      automargin = TRUE,\n      nticks = 6,\n      tickformat = \",.0f\"\n    ),\n    yaxis2 = list(\n      overlaying = \"y\",\n      side       = \"right\",\n      automargin = TRUE,\n      nticks     = 6,\n      tickformat = \",.0f\",\n      title      = list(text = \"External Variable\", standoff = 50)\n    ),\n    legend = list(orientation = \"h\", x = 0.5, y = 1.12, xanchor = \"center\"),\n    margin = list(l = 90, r = 150, t = 70, b = 60),\n    hovermode = \"x unified\",\n    autosize  = TRUE\n  ) %&gt;%\n  config(responsive = TRUE, scrollZoom = TRUE, displaylogo = FALSE) %&gt;%\n  layout(\n    updatemenus = list(\n      list(\n        type = \"dropdown\",\n        x = 0.06, y = 1.16,\n        buttons = list(\n          list(method = \"restyle\",\n               args = list(list(y = list(df$WTI),   name = \"WTI\"),        list(1)),\n               label = \"WTI\"),\n          list(method = \"restyle\",\n               args = list(list(y = list(df$Brent), name = \"Brent\"),      list(1)),\n               label = \"Brent\"),\n          list(method = \"restyle\",\n               args = list(list(y = list(df$USD),   name = \"USD Index\"),  list(1)),\n               label = \"USD Index\"),\n          list(method = \"restyle\",\n               args = list(list(y = list(df$RMB),   name = \"RMB/USD\"),    list(1)),\n               label = \"RMB/USD\"),\n          list(method = \"restyle\",\n               args = list(list(y = list(df$RSAFS), name = \"Retail Sales\"), list(1)),\n               label = \"Retail Sales\"),\n          list(method = \"restyle\",\n               args = list(list(y = list(df$SP500), name = \"S&P 500\"),    list(1)),\n               label = \"S&P 500\")\n        )\n      )\n    )\n  )\n\np\n\n\n\n\n\n\n\nWTI Oil Price vs TEUs: TEUs tend to fall when WTI prices surge, showing the impact of fuel costs on shipping activity.\nBrent Oil Price vs TEUs: Similar to WTI, Brent prices show a negative relationship with TEUs, but the effect appears less direct after 2015.\nUSD Index vs TEUs: A stronger USD often corresponds with lower TEUs, suggesting a strong dollar reduces U.S. import demand.\nRMB/USD Exchange Rate vs TEUs: TEUs increase when RMB weakens (higher CNY per USD), supporting the idea that cheaper Chinese exports drive more U.S. imports.\nRetail Sales vs TEUs: U.S. retail sales move in line with TEUs, highlighting how consumer demand directly pulls imports.\nS&P 500 vs TEUs: TEUs generally rise with the S&P 500, reflecting that economic optimism and stock market strength support trade volume.",
    "crumbs": [
      "Data Visualization"
    ]
  },
  {
    "objectID": "univariate-ts-models.html",
    "href": "univariate-ts-models.html",
    "title": "Univariate TS Models (ARIMA/SARIMA)s",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(forecast)\nlibrary(astsa) \nlibrary(xts)\nlibrary(tseries)\nlibrary(fpp2)\nlibrary(fma)\nlibrary(lubridate)\nlibrary(tidyverse)\nlibrary(TSstudio)\nlibrary(quantmod)\nlibrary(tidyquant)\nlibrary(plotly)\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(seasonal)\nlibrary(patchwork)\nCode\nla_teu_data &lt;- read_csv(\"data-raw/la_teu_data.csv\", show_col_types = FALSE)\nhead(la_teu_data)\n\n\n# A tibble: 6 √ó 9\n  Date   Loaded_Imports Empty_Imports Total_Imports Loaded_Exports Empty_Exports\n  &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;          &lt;dbl&gt;         &lt;dbl&gt;\n1 Jan-24        441763.          179        441942.        126554.       287156.\n2 Feb-24        408764.          139        408903.        132754.       239776.\n3 Mar-24        379542.         1018.       380560         144718.       218139.\n4 Apr-24        416929.          253        417182.        133046.       220109 \n5 May-24        390663.          468.       391131.        125963.       235800 \n6 Jun-24        428753.          545        429298.        122515        275944.\n# ‚Ñπ 3 more variables: Total_Exports &lt;dbl&gt;, Total_TEUs &lt;chr&gt;,\n#   Prior_Year_Change &lt;chr&gt;",
    "crumbs": [
      "Univariate TS Models (ARIMA/SARIMA)s"
    ]
  },
  {
    "objectID": "univariate-ts-models.html#acf-with-original-data",
    "href": "univariate-ts-models.html#acf-with-original-data",
    "title": "Univariate TS Models (ARIMA/SARIMA)s",
    "section": "ACF with original data",
    "text": "ACF with original data\n\n\nCode\n# ACF Plot\nggAcf(ts_log) +\n  ggtitle(\"ACF Plot of Port of Los Angeles Container Throughput\") +\n  theme_minimal()",
    "crumbs": [
      "Univariate TS Models (ARIMA/SARIMA)s"
    ]
  },
  {
    "objectID": "univariate-ts-models.html#adf-test",
    "href": "univariate-ts-models.html#adf-test",
    "title": "Univariate TS Models (ARIMA/SARIMA)s",
    "section": "ADF test",
    "text": "ADF test\n\n\nCode\n################ ADF Test #############\ntseries::adf.test(ts_log)\n\n\n\n    Augmented Dickey-Fuller Test\n\ndata:  ts_log\nDickey-Fuller = -6.0505, Lag order = 6, p-value = 0.01\nalternative hypothesis: stationary\n\n\nThe ACF plot of the original series shows a slow decay in autocorrelations across multiple lags, indicating strong persistence and nonstationarity. In addition, the AD F test yields a p-value of 0.01, which is below the 0.05 significance threshold, rejecting the null hypothesis of a unit root.\nTaken together, these results confirm that the raw TEUs series of the Port of Los Angeles is non-stationary.\n\n\nCode\ndiff_1 &lt;- diff(ts_df)\ndiff_2 &lt;- diff(ts_df,differences = 2)\n\n# ACF Plots for seasonal without normal differenced Data\nacf_plot1 &lt;- ggAcf(diff_1, 40) +\n  labs(title = \"ACF of first differenced TEUs\") \nacf_plot2 &lt;- ggAcf(diff_2, 40) +\n  labs(title = \"ACF of second differenced TEUs\") \n\n# Combine ACF Plots using patchwork\nacf_plot1 / acf_plot2\n\n\n\n\n\n\n\n\n\nThe ACF plot of the first-differenced series shows that autocorrelations drop sharply after lag 1 and remain largely within the confidence bounds, indicating that first differencing has effectively removed the nonstationarity of the original TEUs series. In contrast, the second-differenced series does not provide additional improvement and may risk overdifferencing, which can distort the underlying structure of the data.\nTherefore, a first-order difference is sufficient„ÄÇ\n\n\nCode\ndiff_s &lt;-diff(diff_1,12)\n\n# ACF Plots for Differenced Data\nacf_plot1 &lt;- ggAcf(diff_1, 40) +\n  labs(title = \"ACF of first differenced TEUs\") \npacf_plot1 &lt;- ggPacf(diff_1, 40) +\n  labs(title = \"PACF of first differenced TEUs\")  \n\nacf_plots &lt;- ggAcf(diff_s, 40) +\n  labs(title = \"ACF of first differenced seasonal TEUs\") \npacf_plots &lt;- ggPacf(diff_s, 40) +\n  labs(title = \"PACF of first differenced seasonal TEUs\") \n\n# Combine ACF Plots using patchwork\nacf_plot1 / pacf_plot1\n\n\n\n\n\n\n\n\n\nCode\nacf_plots / pacf_plots\n\n\n\n\n\n\n\n\n\nq=0:1,Q=1:3,p=1:4,P=1,d=1,D=1\n\n\nCode\nSARIMA.c &lt;- function(p1, p2, q1, q2, P1, P2, Q1, Q2, data) {\n  d &lt;- 1; D &lt;- 1\n  if (!is.ts(data)) data &lt;- ts(data, frequency = 12)\n  s &lt;- frequency(data); if (is.null(s) || is.na(s) || s &lt;= 1) s &lt;- 12\n  \n  rows &lt;- list()\n  \n  i &lt;- 1\n  for (p in p1:p2) {\n    for (q in q1:q2) {\n      for (P in P1:P2) {\n        for (Q in Q1:Q2) {\n          \n          if (p + d + q + P + D + Q &lt;= 9) {\n            model &lt;- tryCatch(\n              Arima(\n                data,\n                order    = c(p, d, q),\n                seasonal = list(order = c(P, D, Q), period = s)\n              ),\n              error = function(e) NULL\n            )\n            \n            if (!is.null(model)) {\n              rows[[i]] &lt;- c(p, d, q, P, D, Q, model$aic, model$bic, model$aicc)\n              i &lt;- i + 1\n            }\n          }\n        }\n      }\n    }\n  }\n  \n  if (length(rows) == 0) {\n    out &lt;- setNames(\n      as.data.frame(matrix(numeric(0), nrow = 0, ncol = 9)),\n      c(\"p\",\"d\",\"q\",\"P\",\"D\",\"Q\",\"AIC\",\"BIC\",\"AICc\")\n    )\n    return(out)\n  }\n  \n  out &lt;- as.data.frame(do.call(rbind, rows))\n  names(out) &lt;- c(\"p\",\"d\",\"q\",\"P\",\"D\",\"Q\",\"AIC\",\"BIC\",\"AICc\")\n  for (nm in names(out)) out[[nm]] &lt;- as.numeric(out[[nm]])\n  rownames(out) &lt;- NULL\n  \n  out\n}\n\n\n\n\nCode\noutput &lt;- SARIMA.c(\n  p1=1, p2=4,\n  q1=0, q2=1,\n  P1=0, P2=1,\n  Q1=1, Q2=3,\n  data = ts_df\n)\n\noutput[which.min(output$AIC), , drop=FALSE]\n\n\n   p d q P D Q      AIC      BIC     AICc\n41 4 1 1 0 1 1 7352.075 7377.692 7352.477\n\n\nCode\noutput[which.min(output$BIC), , drop=FALSE]\n\n\n  p d q P D Q      AIC      BIC     AICc\n7 1 1 1 0 1 1 7355.846 7370.484 7355.987\n\n\nCode\noutput[which.min(output$AICc), , drop=FALSE]\n\n\n   p d q P D Q      AIC      BIC     AICc\n41 4 1 1 0 1 1 7352.075 7377.692 7352.477\n\n\nSARIMA(4,1,1)(0,1,1)[12]/(1,1,1)(0,1,1)[12] is best model for manual search.\n\n\nCode\nauto.arima(ts_df)\n\n\nSeries: ts_df \nARIMA(0,1,4)(0,0,2)[12] with drift \n\nCoefficients:\n          ma1     ma2      ma3      ma4    sma1    sma2      drift\n      -0.6610  0.0216  -0.0746  -0.1645  0.1430  0.1425  1547.8423\ns.e.   0.0591  0.0681   0.0742   0.0603  0.0578  0.0595   814.8587\n\nsigma^2 = 7.576e+09:  log likelihood = -3822.47\nAIC=7660.95   AICc=7661.45   BIC=7690.55\n\n\nSARIMA(0,1,4)(0,0,2)[12] is best model for auto search.\n\n\nCode\n# Set seed for reproducibility\nset.seed(345)\n\n###### Fit SARIMA(1,1,1)(1,1,1)[12] Model ######\nmodel_1_output &lt;- capture.output(sarima(ts_df, 4, 1, 1, 0, 1, 1, 12))\n\n\n\n\n\n\n\n\n\nCode\nmodel_2_output &lt;- capture.output(sarima(ts_df, 1, 1, 1, 0, 1, 1, 12))\n\n\n\n\n\n\n\n\n\nCode\nmodel_3_output &lt;- capture.output(sarima(ts_df, 0, 1, 4, 0, 0, 2, 12))\n\n\n\n\n\n\n\n\n\nCode\n###### Extract and Print Relevant Output ######\nextract_model_output &lt;- function(model_output, model_name) {\n  start_line &lt;- grep(\"Coefficients\", model_output)  # Locate coefficient section\n  end_line &lt;- length(model_output)  # Capture entire output\n  cat(\"\\n###\", model_name, \"###\\n\")\n  cat(model_output[start_line:end_line], sep = \"\\n\")  # Print relevant details\n}\n\n###### Print Model Outputs ######\nextract_model_output(model_1_output, \"SARIMA(4,1,1)(0,1,1)[12]\")\n\n\n\n### SARIMA(4,1,1)(0,1,1)[12] ###\nCoefficients: \n     Estimate     SE  t.value p.value\nar1   -0.0330 0.1167  -0.2826  0.7777\nar2    0.0333 0.0915   0.3636  0.7164\nar3   -0.0312 0.0735  -0.4245  0.6715\nar4   -0.1885 0.0655  -2.8768  0.0043\nma1   -0.6737 0.1097  -6.1412  0.0000\nsma1  -0.9438 0.0576 -16.3943  0.0000\n\nsigma^2 estimated as 6778107200 on 281 degrees of freedom \n \nAIC = 25.61699  AICc = 25.61803  BIC = 25.70624 \n \n\n\nCode\nextract_model_output(model_2_output, \"SARIMA(1,1,1)(0,1,1)[12]\")\n\n\n\n### SARIMA(1,1,1)(0,1,1)[12] ###\nCoefficients: \n     Estimate     SE  t.value p.value\nar1    0.0417 0.0864   0.4820  0.6302\nma1   -0.7492 0.0622 -12.0427  0.0000\nsma1  -0.9615 0.0784 -12.2688  0.0000\n\nsigma^2 estimated as 6935294654 on 284 degrees of freedom \n \nAIC = 25.63012  AICc = 25.63042  BIC = 25.68113 \n \n\n\nCode\nextract_model_output(model_3_output, \"SARIMA(0,1,4)(0,0,2)[12]\")\n\n\n\n### SARIMA(0,1,4)(0,0,2)[12] ###\nCoefficients: \n          Estimate       SE  t.value p.value\nma1        -0.6610   0.0591 -11.1900  0.0000\nma2         0.0216   0.0681   0.3178  0.7509\nma3        -0.0746   0.0742  -1.0060  0.3153\nma4        -0.1645   0.0603  -2.7293  0.0067\nsma1        0.1430   0.0578   2.4739  0.0139\nsma2        0.1425   0.0595   2.3952  0.0172\nconstant 1547.8423 814.8587   1.8995  0.0585\n\nsigma^2 estimated as 7398598646 on 292 degrees of freedom \n \nAIC = 25.6219  AICc = 25.62319  BIC = 25.72091 \n \n\n\nAmong the three candidate models, SARIMA(1,1,1)(0,1,1)[12] is selected as the most appropriate.\nAlthough the (4,1,1)(0,1,1)[12] specification yields a slightly lower AIC, several of its AR coefficients are statistically insignificant, suggesting potential overfitting and reduced interpretability. Similarly, the (0,1,4)(0,0,2)[12] model captures short-term dynamics but fails to incorporate seasonal differencing (D=1), which is inconsistent with the pronounced seasonality of the TEUs series. In contrast, the (1,1,1)(0,1,1)[12] model achieves a favorable balance, with competitive AIC/BIC values, statistically significant parameters, and a parsimonious structure that adequately reflects both the underlying trend and seasonal dependence. Therefore, it represents the most robust and reliable choice among the three models.\n\n\nCode\n###### Fit ARIMA(1,0,2)(0,1,1)[12] Model ######\nfit &lt;- Arima(ts_df, order = c(1, 1, 1), seasonal =list( order=c(0, 1, 1), period=12))\n\n###### Display Model Summary ######\nsummary(fit)\n\n\nSeries: ts_df \nARIMA(1,1,1)(0,1,1)[12] \n\nCoefficients:\n         ar1      ma1     sma1\n      0.0417  -0.7492  -0.9615\ns.e.  0.0864   0.0622   0.0784\n\nsigma^2 = 7.009e+09:  log likelihood = -3673.92\nAIC=7355.85   AICc=7355.99   BIC=7370.48\n\nTraining set error measures:\n                    ME    RMSE      MAE       MPE     MAPE      MASE\nTraining set -2360.452 81454.1 47476.86 -315.7311 321.5409 0.5693415\n                     ACF1\nTraining set -0.005805141\n\n\n\n\nCode\n# Forecast the next 365 periods\nforecast_result &lt;- forecast(fit, h = 36)\n\n# Display forecast accuracy\naccuracy(forecast_result)\n\n\n                    ME    RMSE      MAE       MPE     MAPE      MASE\nTraining set -2360.452 81454.1 47476.86 -315.7311 321.5409 0.5693415\n                     ACF1\nTraining set -0.005805141\n\n\nCode\n# Plot the forecast\nautoplot(forecast_result) +\n  labs(title = \"ARIMA(1,1,1)x(0,1,1)[12] Forecast\",\n       x = \"Time\",\n       y = \"Predicted Values\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThis plot presents the SARIMA(1,1,1)(0,1,1)[12] forecast for the next three years. The model suggests that container throughput at the Port of Los Angeles will remain at historically high levels, with clear seasonal fluctuations persisting. The mean forecast indicates relative stability without a strong upward or downward trend, while the widening confidence intervals highlight increasing uncertainty over time. Port activity is highly sensitive to global trade conditions, capacity constraints, and potential external shocks.\n\n\nCode\n###### Forecast for 36 Periods (3 Years) ######\nforecast_horizon &lt;- 36  # 36 months (3 years)\n\n###### Plot Forecasts Using Mean, Na√Øve, Drift Methods, and ARIMA Fit ######\nautoplot(ts_df) +\n  autolayer(meanf(ts_df, h = forecast_horizon), series = \"Mean\", PI = FALSE) +\n  autolayer(snaive(ts_df, h = forecast_horizon), series = \"Na√Øve\", PI = FALSE) +\n  autolayer(rwf(ts_df, drift = TRUE, h = forecast_horizon), series = \"Drift\", PI = FALSE) +\n  autolayer(forecast(fit, h = forecast_horizon), series = \"ARIMA Fit\", PI = FALSE) +\n  ggtitle(\"TEUs Forecast (Next 3 Year)\") +\n  xlab(\"Year\") + \n  ylab(\"TEUs\") +\n  guides(colour = guide_legend(title = \"Forecast Methods\")) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThis plot compares SARIMA with alternative benchmark methods, including Drift, Mean, and Na√Øve forecasts. The Na√Øve model simply extends the last observation forward, failing to capture the seasonal structure of the series. The Mean method produces an overly smoothed, nearly constant forecast that lacks interpretive value for a dynamic system. The Drift model incorporates a trend component but similarly neglects the strong seasonal patterns present in the data. In contrast, the SARIMA model effectively captures both long-term dynamics and recurring seasonal cycles, producing forecasts that are more consistent with historical patterns.\nAs such, SARIMA provides a more realistic and reliable basis for understanding future container throughput compared to simpler benchmark methods.\n\n\nCode\n# Load required libraries\nlibrary(tsibble)\nlibrary(prophet)\n\nprophet_data &lt;- df_teu%&gt;%\n  select(Date, TEUs) %&gt;%\n  rename(ds = Date, y = TEUs )  # Rename for Prophet\n\n###### Fit the Prophet Model ######\nprophet_model &lt;- prophet(prophet_data)\n\n###### Extend the Forecast Horizon by 120 Months (10 Years) ######\nfuture_dates &lt;- make_future_dataframe(prophet_model, periods = 36, freq = \"month\")\n\n###### Generate Forecasts ######\nforecast_data &lt;- predict(prophet_model, future_dates)\n\n###### Plot Forecast ######\nplot(prophet_model, forecast_data) +\n  ggtitle(\"Forecast TEUs (Next 3 Years)\") +\n  xlab(\"Date\") +\n  ylab(\"TEUs\")\n\n\n\n\n\n\n\n\n\nThis forecast model differs from the SARIMA approach in several key ways. First, SARIMA explicitly incorporates seasonal differencing and seasonal parameters, which allows it to capture recurring 12-month cycles more precisely. In contrast, the model shown here reflects seasonal fluctuations indirectly through its fitted trend and widening confidence intervals, rather than parameterizing seasonality directly. Second, the SARIMA forecasts are typically smoother and preserve a clear seasonal pattern over time, whereas this model also reproduces seasonal swings but with wider uncertainty bands, indicating greater caution about long-term stability. Finally, while SARIMA is particularly well-suited for datasets with strong and stable seasonal patterns, the current model is more flexible in balancing trend and seasonal dynamics, though it may be less robust for long-horizon forecasts.\n\n\nCode\n###### Forecast Next 12 Months Using SARIMA(1,0,2)(0,1,1)[12] ######\nsarima.for(ts_df, 12, 1,1,1,0,1,1,12)\n\n\n\n\n\n\n\n\n\n$pred\n          Jan      Feb      Mar      Apr      May      Jun      Jul      Aug\n2020 896182.2 804110.1 846735.9 883995.5 921785.0 909357.3 946982.0 977222.2\n          Sep      Oct      Nov      Dec\n2020 943340.7 951048.3 883549.4 899035.3\n\n$se\n           Jan       Feb       Mar       Apr       May       Jun       Jul\n2020  83814.42  87323.12  90060.13  92691.96  95250.12  97741.31 100170.56\n           Aug       Sep       Oct       Nov       Dec\n2020 102542.27 104860.36 107128.30 109349.24 111526.52\n\n\nThe black line and points represent the historical container throughput (TEUs) from 2011 to 2020, showing notable fluctuations with an extreme dip around 2016. The red line and points indicate the forecasted values, which follow the historical pattern and maintain a relatively stable level without sharp deviations. The shaded gray area illustrates the confidence intervals, which widen over time, reflecting growing uncertainty in longer-term forecasts.\nOverall, the model suggests that throughput at the Port of Los Angeles is expected to remain close to its historical average over the next year, with regular seasonal fluctuations but no significant structural shifts. The widening forecast intervals also highlight the potential influence of external economic, trade, or policy factors that could affect future outcomes.",
    "crumbs": [
      "Univariate TS Models (ARIMA/SARIMA)s"
    ]
  }
]